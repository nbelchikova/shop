{"version":3,"file":"shoppingCart.96fc50c53a55194a2fc4.js","mappings":"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","sources":["webpack://Online-store/./src/helpers/helpers.ts","webpack://Online-store/./src/helpers/routes.ts","webpack://Online-store/./src/pages/cart/utils/addCartItems.ts","webpack://Online-store/./src/pages/cart/utils/getItemsFromStorage.ts","webpack://Online-store/./src/pages/cart/utils/pagination.ts","webpack://Online-store/./src/pages/cart/utils/promo.ts","webpack://Online-store/./src/pages/cart/utils/renderCartItems.ts","webpack://Online-store/./src/pages/cart/utils/updateTotal.ts","webpack://Online-store/./src/pages/goods/utils/card.ts","webpack://Online-store/webpack/bootstrap","webpack://Online-store/webpack/runtime/make namespace object","webpack://Online-store/./src/pages/cart/shoppingCart.ts"],"sourcesContent":["import { IGoods } from './item';\nimport { routeCart } from './routes';\n\nexport const createElement = (\n  elementType: string,\n  parent: HTMLElement,\n  classNames: string[],\n  innerHTML?: string\n): HTMLElement => {\n  const element = document.createElement(elementType);\n  parent.appendChild(element);\n\n  if (classNames) {\n    element.classList.add(...classNames);\n  }\n\n  if (innerHTML) {\n    element.innerHTML = innerHTML;\n  }\n\n  return element;\n};\n\nexport const addToQueryParams = (key: string, value: string): void => {\n  const url = new URL(window.location.href);\n  url.searchParams.set(key, value);\n  window.history.replaceState(null, '', url);\n};\n\nexport const getWordWithEnding = (number: number, word: string): string => {\n  return number === 1 ? word : `${word}s`;\n};\n\nexport const isProductInCart = (id: number): boolean => {\n  const cartItems = localStorage.getItem('cart') ? JSON.parse(localStorage.getItem('cart') || '') : [];\n  const itemId = [...cartItems].findIndex(({ productId }) => {\n    return id === productId;\n  });\n\n  return itemId >= 0;\n};\n\nexport const addProductToCart = (item: IGoods): void => {\n  const cartItems = localStorage.getItem('cart') ? JSON.parse(localStorage.getItem('cart') || '') : [];\n  const newCartItems = [...cartItems, item];\n  localStorage.setItem('cart', JSON.stringify(newCartItems));\n};\n\nexport const removeProductFromCart = (item: IGoods): void => {\n  const cartItems = localStorage.getItem('cart') ? JSON.parse(localStorage.getItem('cart') || '') : [];\n  const itemIndex = [...cartItems].findIndex(({ id }) => {\n    return id === item.id;\n  });\n  const newCartItems = [...cartItems.slice(0, itemIndex), ...cartItems.slice(itemIndex + 1, cartItems.length)];\n  localStorage.setItem('cart', JSON.stringify(newCartItems));\n};\n\nexport const updateHeaderTotal = (): void => {\n  const itemsInCart: IGoods[] = localStorage.getItem('cart') ? JSON.parse(localStorage.getItem('cart') || '') : [];\n  const headerTotalSum = document.querySelector('.header-total') as HTMLElement;\n  const headerTotalQuantity = document.querySelector('.header-cart-quantity') as HTMLElement;\n  const totalSum = itemsInCart.reduce((sum, curr) => {\n    return sum + curr.cost;\n  }, 0);\n  const totalQuantity = itemsInCart.length;\n\n  headerTotalSum.innerText = `Общая сумма: ${totalSum} руб.`;\n  headerTotalQuantity.innerText = String(totalQuantity);\n};\n\nexport const addEventListenerToCartProduct = (element: HTMLElement, item: IGoods): void => {\n  element.addEventListener('click', () => {\n    if (element.innerText === 'Добавить в корзину') {\n      addProductToCart(item);\n      element.innerText = 'Удалить из корзины';\n      element.classList.toggle('btn-remove');\n      updateHeaderTotal();\n    } else {\n      removeProductFromCart(item);\n      element.innerText = 'Добавить в корзину';\n      element.classList.toggle('btn-remove');\n      updateHeaderTotal();\n    }\n\n    localStorage.removeItem('block');\n  });\n};\n","export const routeGood = 'goods.html';\n\nexport const routeMain = 'index.html';\n\nexport const routeCart = 'shoppingCart.html';\n","import { addProductToCart, removeProductFromCart } from '../../../helpers/helpers';\nimport { IGoods } from '../../../helpers/item';\nimport { paginationInit } from './pagination';\nimport { updateTotalAfterCount } from './updateTotal';\n\nexport const addCartItem = (itemDetails: IGoods, quantity: number, itemNumber: number): void => {\n  const productsWrapper = document.querySelector('.products-in-cart') as HTMLElement;\n  productsWrapper.insertAdjacentHTML(\n    'beforeend',\n    `\n  <div class=\"product-wrapper\">\n        <div class=\"products-details\" id=details-of-${itemDetails.id}>\n          <div>\n            <p class=\"product-name\">${itemNumber}. ${itemDetails.name}</p>\n            <p class=\"product-info\">Категория: ${itemDetails.category}</p>\n            <p class=\"product-info\">\n            Остаток на складе: ${itemDetails.warehouse} шт.\n            </p>\n            <p class=\"product-info\">\n            Сумма: ${itemDetails.cost} руб.\n            </p>\n\n          </div>\n        </div>\n        <div class=\"product-details\">\n          <div class=\"products-counter\" id='counter-for-${itemDetails.id}'>\n          </div>\n          <div class=\"image-wrapper\">\n            <img class=\"product-photo\" src=${itemDetails.image1} alt=\"Ничего не получилось\" />\n          </div>\n        </div>\n      </div>`\n  );\n\n  const productDetails = document.querySelector(`#details-of-${itemDetails.id}`);\n  const counterWrapper = document.querySelector(`#counter-for-${itemDetails.id}`);\n  const plusButton = document.createElement('button');\n  plusButton.classList.add('square-button');\n  plusButton.innerText = '+';\n  counterWrapper?.appendChild(plusButton);\n\n  const quantityValue = document.createElement('p');\n  quantityValue.innerText = String(quantity);\n  counterWrapper?.appendChild(quantityValue);\n\n  const minusButton = document.createElement('button');\n  minusButton.classList.add('square-button');\n  minusButton.innerText = '-';\n  counterWrapper?.appendChild(minusButton);\n\n  const totalPrice = document.createElement('p');\n  totalPrice.classList.add('product-info');\n  totalPrice.innerText = `Общая сумма: ${itemDetails.cost * quantity}  руб.`;\n  productDetails?.appendChild(totalPrice);\n\n  plusButton?.addEventListener('click', () => {\n    if (+quantityValue.innerText !== itemDetails.warehouse) {\n      addProductToCart(itemDetails);\n      quantityValue.innerText = String(+quantityValue.innerText + 1);\n\n      const currentPrice = +totalPrice.innerText.split(' ')[2];\n      totalPrice.innerText = `Общая сумма: ${itemDetails.cost + currentPrice}  руб.`;\n      updateTotalAfterCount('plus', itemDetails.cost);\n    }\n  });\n\n  minusButton?.addEventListener('click', () => {\n    removeProductFromCart(itemDetails);\n\n    if (+quantityValue.innerText === 1) {\n      paginationInit();\n    } else {\n      quantityValue.innerText = String(+quantityValue.innerText - 1);\n      const currentPrice = +totalPrice.innerText.split(' ')[2];\n      totalPrice.innerText = `Общая сумма: ${currentPrice - itemDetails.cost}  руб.`;\n      updateTotalAfterCount('minus', itemDetails.cost);\n    }\n  });\n};\n","import { IGoods } from '../../../helpers/item';\n\nexport const getItemsFromStorage = (): [IGoods | undefined, number][] => {\n  const itemsInCart: IGoods[] = localStorage.getItem('cart') ? JSON.parse(localStorage.getItem('cart') || '') : [];\n  const numberOfItems = itemsInCart.reduce<Record<number, number>>((acc, curr) => {\n    return acc[curr.id] ? { ...acc, [curr.id]: acc[curr.id] + 1 } : { ...acc, [curr.id]: 1 };\n  }, {});\n\n  return Object.entries(numberOfItems).map(([id, quantity]) => {\n    const itemDetails = itemsInCart.find(item => item.id === +id);\n\n    return [itemDetails, quantity];\n  });\n};\n","import { addToQueryParams, getWordWithEnding } from '../../../helpers/helpers';\r\nimport { getItemsFromStorage } from './getItemsFromStorage';\r\nimport { renderCartItems } from './renderCartItems';\r\n\r\nconst ITEMS_PER_PAGE = 3;\r\nconst itemsNumberInfo = document.querySelector('.pagination__secondary-text') as HTMLElement;\r\nconst page = document.querySelector('#page') as HTMLElement;\r\nconst pageNumber = document.querySelector('#page-number') as HTMLElement;\r\nconst itemsPerPage = document.querySelector('#items-per-page') as HTMLElement;\r\nconst paginationSelects = document.querySelectorAll('.pagination__select');\r\nconst paginationLeftArrow = document.querySelector('.pagination__left-arrow') as HTMLElement;\r\nconst paginationRightArrow = document.querySelector('.pagination__right-arrow') as HTMLElement;\r\nconst pageOptions = document.querySelector('#page-options') as HTMLElement;\r\nlet pagesNumberValue: number;\r\n\r\nconst updateShowingItemsNumber = () => {\r\n  const ITEMS_NUMBER = getItemsFromStorage().length;\r\n  const productsWrapper = document.querySelector('.products-in-cart') as HTMLElement;\r\n\r\n  let pageValue = +page?.innerText;\r\n\r\n  if (pageValue > pagesNumberValue) {\r\n    page.innerText = String(pagesNumberValue);\r\n    pageValue = +page?.innerText;\r\n  }\r\n\r\n  const itemsPerPageValue = +itemsPerPage?.innerText;\r\n  const currentPageFirstItem = +(pageValue * itemsPerPageValue - (itemsPerPageValue - 1));\r\n  const currentPageLastItem =\r\n    currentPageFirstItem + (itemsPerPageValue - 1) <= ITEMS_NUMBER\r\n      ? currentPageFirstItem + (itemsPerPageValue - 1)\r\n      : ITEMS_NUMBER;\r\n  pagesNumberValue = Math.ceil(ITEMS_NUMBER / itemsPerPageValue);\r\n\r\n  productsWrapper.innerHTML = '';\r\n  renderCartItems(currentPageFirstItem, currentPageLastItem);\r\n\r\n  addToQueryParams('page', String(pageValue));\r\n  addToQueryParams('items-per-page', String(itemsPerPageValue));\r\n\r\n  pageNumber.innerText = `of ${pagesNumberValue} ${getWordWithEnding(pagesNumberValue, 'page')}`;\r\n\r\n  itemsNumberInfo.innerText =\r\n    itemsPerPageValue === 1 || currentPageLastItem === currentPageFirstItem\r\n      ? `Showing ${currentPageFirstItem} of ${ITEMS_NUMBER} items`\r\n      : `Showing ${currentPageFirstItem}-${currentPageLastItem} of ${ITEMS_NUMBER} ${getWordWithEnding(\r\n          ITEMS_NUMBER,\r\n          'item'\r\n        )}`;\r\n\r\n  pageOptions.innerHTML = '';\r\n\r\n  for (let i = 0; i < pagesNumberValue; i++) {\r\n    pageOptions.insertAdjacentHTML('beforeend', `<li class=\"pagination__option\">${i + 1}</li>`);\r\n  }\r\n\r\n  if (pageValue === 1) {\r\n    paginationLeftArrow.classList.add('disabled');\r\n  } else {\r\n    paginationLeftArrow.classList.remove('disabled');\r\n  }\r\n\r\n  if (pageValue === pagesNumberValue) {\r\n    paginationRightArrow.classList.add('disabled');\r\n  } else {\r\n    paginationRightArrow.classList.remove('disabled');\r\n  }\r\n};\r\n\r\nexport const paginationInit = (): void => {\r\n  const ITEMS_NUMBER = getItemsFromStorage().length;\r\n  const currentUrl = new URLSearchParams(window.location.search);\r\n  const pageParam = currentUrl.get('page');\r\n  const choosePage = pageParam || 1;\r\n  const itemParam = currentUrl.get('items-per-page');\r\n  const chooseParam = itemParam || ITEMS_PER_PAGE;\r\n\r\n  itemsPerPage.innerText = String(chooseParam);\r\n  page.innerText = String(choosePage);\r\n  pagesNumberValue = ITEMS_NUMBER / ITEMS_PER_PAGE;\r\n  updateShowingItemsNumber();\r\n\r\n  paginationSelects.forEach(pagination => {\r\n    const options = pagination.querySelector('.pagination__options-wrapper') as HTMLElement;\r\n    const selectedValue = pagination.querySelector('.pagination__selected') as HTMLElement;\r\n\r\n    pagination.addEventListener('click', () => {\r\n      pagination.classList.toggle('active');\r\n    });\r\n\r\n    options.addEventListener('click', (e: MouseEvent) => {\r\n      const option = e.target as HTMLInputElement;\r\n\r\n      if (option?.classList.contains('pagination__option')) {\r\n        selectedValue.innerHTML = option.innerText;\r\n        updateShowingItemsNumber();\r\n      }\r\n    });\r\n  });\r\n\r\n  paginationLeftArrow.addEventListener('click', () => {\r\n    const selectedPageValue = +page.innerText;\r\n\r\n    if (selectedPageValue !== 1) {\r\n      page.innerText = `${selectedPageValue - 1}`;\r\n      updateShowingItemsNumber();\r\n    }\r\n  });\r\n\r\n  paginationRightArrow.addEventListener('click', () => {\r\n    const selectedPageValue = +page.innerText;\r\n\r\n    if (selectedPageValue + 1 <= pagesNumberValue) {\r\n      page.innerText = `${selectedPageValue + 1}`;\r\n      updateShowingItemsNumber();\r\n    }\r\n  });\r\n};\r\n","export const promoInput = document.querySelector('#promo-input') as HTMLInputElement;\n\nexport const promoInfo = document.querySelector('.promo-info') as HTMLElement;\n\nconst formesPromo = document.querySelector('.promo-form') as HTMLElement;\nconst totalPrice = document.querySelector('.total-price') as HTMLElement;\nconst discountPrice = document.querySelector('.discount-price') as HTMLElement;\nconst promoApply = document.querySelector('#promo-apply') as HTMLElement;\n\nexport const promocode = ['promo1', 'promo2', 'promo3'];\n\nexport function promo() {\n  if (promocode.includes(promoInput.value)) {\n    promoInfo.textContent = `${promoInput.value}. Скидка 10%`;\n  }\n}\n\npromoInput.addEventListener('input', promo, false);\n\nexport function discount() {\n  const pApply = document.querySelectorAll<HTMLElement>('#promo-apply p');\n\n  if (!pApply.length) {\n    discountPrice.textContent = `${totalPrice.textContent}`;\n    totalPrice.classList.remove('price-discount');\n  } else {\n    const finalCost = (Number(totalPrice.textContent?.split(' ')[0]) * (100 - 10 * pApply.length)) / 100;\n    discountPrice.textContent = `${finalCost} руб`;\n    totalPrice.classList.add('price-discount');\n  }\n}\n\nfunction deletePromo() {\n  const pApply = document.querySelectorAll<HTMLElement>('#promo-apply p');\n\n  for (let m = 0; m < pApply.length; m++) {\n    pApply[m].addEventListener('click', () => {\n      pApply[m].remove();\n      discount();\n    });\n  }\n}\n\nfunction appendPromo() {\n  const pApply = document.querySelectorAll<HTMLElement>('#promo-apply p');\n\n  if (promoInput.value === 'promo1' || promoInput.value === 'promo2' || promoInput.value === 'promo3') {\n    if (pApply.length === 0) {\n      const pPromo = document.createElement('p');\n      promoApply.append(pPromo);\n      pPromo.textContent = `-${promoInput.value}. Скидка 10% (Удалить)`;\n      discount();\n      deletePromo();\n    } else {\n      for (let k = 0; k < pApply.length; k++) {\n        if (pApply[k].textContent === `-${promoInput.value}. Скидка 10% (Удалить)`) {\n          return;\n        }\n      }\n\n      const pPromo = document.createElement('p');\n      promoApply.append(pPromo);\n      pPromo.textContent = `-${promoInput.value}. Скидка 10% (Удалить)`;\n      discount();\n      deletePromo();\n    }\n  }\n}\n\nconst applyPromo = function (event: SubmitEvent) {\n  event.preventDefault();\n  appendPromo();\n};\n\nformesPromo.addEventListener('submit', applyPromo, false);\n","import { addCartItem } from './addCartItems';\r\nimport { getItemsFromStorage } from './getItemsFromStorage';\r\nimport { updateTotal } from './updateTotal';\r\n\r\nconst main = document.querySelector('.main') as HTMLElement;\r\n\r\nexport const renderCartItems = (firstItem: number, lastItem: number): void => {\r\n  const itemsWithQuantity = getItemsFromStorage();\r\n  console.log(itemsWithQuantity, firstItem, lastItem);\r\n\r\n  const itemsForRender = itemsWithQuantity.slice(firstItem - 1, lastItem);\r\n  const productsWrapper = document.querySelector('.products-in-cart') as HTMLElement;\r\n\r\n  productsWrapper.innerHTML = '';\r\n\r\n  if (!itemsWithQuantity.length) {\r\n    main.innerHTML = '';\r\n    main.insertAdjacentHTML(\r\n      'beforeend',\r\n      `<div class='empty-cart'>\r\n        <p>Здесь пока ничего нет :(</p>\r\n        <img src=\"/christmas-wreath-2300222.png\">\r\n      </div>`\r\n    );\r\n  }\r\n\r\n  itemsForRender.forEach(([itemDetails, quantity], index) => {\r\n    if (itemDetails) {\r\n      addCartItem(itemDetails, quantity, firstItem + index);\r\n    }\r\n  });\r\n\r\n  const total = itemsWithQuantity.reduce((sum, [itemDetails, quantity]) => {\r\n    if (itemDetails?.cost) {\r\n      return sum + itemDetails?.cost * quantity;\r\n    }\r\n\r\n    return sum;\r\n  }, 0);\r\n\r\n  const totalQuantitySum = itemsWithQuantity.reduce((sum, [_, quantity]) => {\r\n    return sum + quantity;\r\n  }, 0);\r\n\r\n  updateTotal(total, totalQuantitySum);\r\n};\r\n","import { updateHeaderTotal } from '../../../helpers/helpers';\nimport { discount } from './promo';\n\nconst totalSum = document.querySelector('.total-price') as HTMLElement;\nconst totalQuantity = document.querySelector('.total-quantity') as HTMLElement;\n\nexport const updateTotal = (totalSumValue: number, totalQuantityValue: number): void => {\n  totalSum.innerHTML = `${totalSumValue} руб.`;\n  totalQuantity.innerHTML = `${totalQuantityValue} шт.`;\n  discount();\n};\n\nexport const updateTotalAfterCount = (type: string, cost: number): void => {\n  const currentSum = +totalSum.innerText.split(' ')[0];\n  const currentQuantity = +totalQuantity.innerText.split(' ')[0];\n\n  type === 'plus'\n    ? updateTotal(currentSum + cost, currentQuantity + 1)\n    : updateTotal(currentSum - cost, currentQuantity - 1);\n\n  updateHeaderTotal();\n};\n","// data\nimport { routeMain } from '../../../helpers/routes';\n\nconst formes = document.querySelector('.formes') as HTMLElement;\nconst formesCard = document.querySelector('.formes-card') as HTMLElement;\nconst endOrder = document.querySelector('.end-order-wrapper') as HTMLElement;\nconst cardImg = document.querySelector('.field-container img') as HTMLImageElement;\n\nconst goToCard = function (event: SubmitEvent) {\n  formes.style.display = 'none';\n  formesCard.style.display = 'block';\n  event.preventDefault();\n};\n\nformes.addEventListener('submit', goToCard, false);\n\n// card\nexport const dateExp = document.querySelector('#expirationdate') as HTMLInputElement;\n\nexport const modifyInput = function () {\n  if (dateExp.value.length === 2) dateExp.value += '/';\n  else if (dateExp.value.length === 3 && dateExp.value.charAt(2) === '/')\n    dateExp.value = dateExp.value.replace('/', '');\n};\n\ndateExp.addEventListener('input', modifyInput, false);\n\nconst goToEndOrder = function (event: SubmitEvent) {\n  formesCard.style.display = 'none';\n  endOrder.style.display = 'block';\n  event.preventDefault();\n  setTimeout(() => {\n    window.location.href = routeMain;\n  }, 4000);\n};\n\nformesCard.addEventListener('submit', goToEndOrder, false);\n\nconst cardnumber = document.querySelector('#cardnumber') as HTMLInputElement;\n\nconst changeImge = function () {\n  if (cardnumber.value[0] === '3') {\n    cardImg.src = './AmericanExpress.jpg';\n  }\n\n  if (cardnumber.value[0] === '4') {\n    cardImg.src = './Visa.png';\n  }\n\n  if (cardnumber.value[0] === '5') {\n    cardImg.src = './MasterCard.png';\n  }\n};\n\ncardnumber.addEventListener('input', changeImge, false);\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import './shoppingCart.scss';\nimport { paginationInit } from './utils/pagination';\nimport './utils/promo';\nimport '../goods/utils/card';\nimport { updateHeaderTotal } from '../../helpers/helpers';\n\npaginationInit();\nupdateHeaderTotal();\n\nconst formes = document.querySelector('.formes') as HTMLElement;\nformes.style.display = 'none';\nlocalStorage.getItem('block') ? (formes.style.display = 'block') : (formes.style.display = 'none');\n\nconst closeButton = document.querySelector('.btn-close') as HTMLElement;\nconst closeButtonContainer = document.querySelector('.btn-close-container') as HTMLElement;\nconst formesContainer = document.querySelector('.formes-container') as HTMLElement;\n\ncloseButton.addEventListener('click', () => {\n  formes.style.display = 'none';\n});\n\ncloseButtonContainer.addEventListener('click', () => {\n  formesContainer.style.display = 'none';\n});\n\nconst orderButton = document.querySelector('.order-button') as HTMLElement;\norderButton.addEventListener('click', () => {\n  formes.style.display = 'block';\n});\n"],"names":["createElement","elementType","parent","classNames","innerHTML","element","document","appendChild","classList","add","addToQueryParams","key","value","url","URL","window","location","href","searchParams","set","history","replaceState","getWordWithEnding","number","word","isProductInCart","id","localStorage","getItem","JSON","parse","findIndex","productId","addProductToCart","item","newCartItems","setItem","stringify","removeProductFromCart","cartItems","itemIndex","slice","length","updateHeaderTotal","itemsInCart","headerTotalSum","querySelector","headerTotalQuantity","totalSum","reduce","sum","curr","cost","totalQuantity","innerText","String","addEventListenerToCartProduct","addEventListener","toggle","removeItem","routeGood","routeMain","routeCart","addCartItem","itemDetails","quantity","itemNumber","insertAdjacentHTML","name","category","warehouse","image1","productDetails","counterWrapper","plusButton","quantityValue","minusButton","totalPrice","currentPrice","split","updateTotalAfterCount","paginationInit","getItemsFromStorage","numberOfItems","acc","Object","entries","map","find","itemsNumberInfo","page","pageNumber","itemsPerPage","paginationSelects","querySelectorAll","paginationLeftArrow","paginationRightArrow","pageOptions","pagesNumberValue","updateShowingItemsNumber","ITEMS_NUMBER","productsWrapper","pageValue","itemsPerPageValue","currentPageFirstItem","currentPageLastItem","Math","ceil","renderCartItems","i","remove","currentUrl","URLSearchParams","search","choosePage","get","chooseParam","forEach","pagination","options","selectedValue","e","option","target","contains","selectedPageValue","promoInput","promoInfo","formesPromo","discountPrice","promoApply","promo","promocode","includes","discount","pApply","finalCost","Number","textContent","deletePromo","m","event","preventDefault","pPromo","append","k","appendPromo","main","firstItem","lastItem","itemsWithQuantity","console","log","itemsForRender","index","total","totalQuantitySum","_","updateTotal","totalSumValue","totalQuantityValue","type","currentSum","currentQuantity","formes","formesCard","endOrder","cardImg","style","display","dateExp","modifyInput","charAt","replace","setTimeout","cardnumber","src","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","r","Symbol","toStringTag","defineProperty","closeButton","closeButtonContainer","formesContainer"],"sourceRoot":""}