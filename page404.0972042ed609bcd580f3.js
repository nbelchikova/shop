(()=>{"use strict";var e={979:(e,t,r)=>{r.r(t)},200:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.addEventListenerToCartProduct=t.updateHeaderTotal=t.removeProductFromCart=t.addProductToCart=t.isProductInCart=t.getWordWithEnding=t.addToQueryParams=t.createElement=void 0,t.createElement=(e,t,r,a)=>{const o=document.createElement(e);return t.appendChild(o),r&&o.classList.add(...r),a&&(o.innerHTML=a),o},t.addToQueryParams=(e,t)=>{const r=new URL(window.location.href);r.searchParams.set(e,t),window.history.replaceState(null,"",r)},t.getWordWithEnding=(e,t)=>1===e?t:`${t}s`,t.isProductInCart=e=>[...localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")||""):[]].findIndex((({productId:t})=>e===t))>=0,t.addProductToCart=e=>{const t=[...localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")||""):[],e];localStorage.setItem("cart",JSON.stringify(t))},t.removeProductFromCart=e=>{const t=localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")||""):[],r=[...t].findIndex((({id:t})=>t===e.id)),a=[...t.slice(0,r),...t.slice(r+1,t.length)];localStorage.setItem("cart",JSON.stringify(a))},t.updateHeaderTotal=()=>{const e=localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")||""):[],t=document.querySelector(".header-total"),r=document.querySelector(".header-cart-quantity"),a=e.reduce(((e,t)=>e+t.cost),0),o=e.length;t.innerText=`Общая сумма: ${a} руб.`,r.innerText=String(o)},t.addEventListenerToCartProduct=(e,r)=>{e.addEventListener("click",(()=>{"Добавить в корзину"===e.innerText?((0,t.addProductToCart)(r),e.innerText="Удалить из корзины",e.classList.toggle("btn-remove"),(0,t.updateHeaderTotal)()):((0,t.removeProductFromCart)(r),e.innerText="Добавить в корзину",e.classList.toggle("btn-remove"),(0,t.updateHeaderTotal)()),localStorage.removeItem("block")}))}}},t={};function r(a){var o=t[a];if(void 0!==o)return o.exports;var d=t[a]={exports:{}};return e[a](d,d.exports,r),d.exports}r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{const e=r(200);r(979),(0,e.updateHeaderTotal)()})()})();
//# sourceMappingURL=page404.0972042ed609bcd580f3.js.map